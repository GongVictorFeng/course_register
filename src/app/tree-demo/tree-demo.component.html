<div class="tree-demo-container">
    <h3>Nested Tree Demo</h3>
    <mat-tree #tree1 class="example-tree"
        [dataSource]="nestedDataSource" [childrenAccessor]="childrenAccessor">

        <mat-nested-tree-node *matTreeNodeDef="let node">
            {{node.name}}
        </mat-nested-tree-node>

        <mat-nested-tree-node *matTreeNodeDef="let node; when: hasNestedChild">
            <div class="mat-tree-node">
                <button mat-icon-button  matTreeNodeToggle>
                    <mat-icon>{{ tree1.isExpanded(node) ? "expand_more": "chevron_right"}}</mat-icon>
                </button>
                {{node.name}}
            </div>
            <div class="nested-node"
                [class.example-tree-invisible]="!tree1.isExpanded(node)">
                <ng-container matTreeNodeOutlet></ng-container>
            </div>
        </mat-nested-tree-node>
    </mat-tree>

    <h3>Flat Tree Demo</h3>
    <mat-tree #tree2 class="example-tree"
        [dataSource]="nestedDataSource" [childrenAccessor]="childrenAccessor">

        <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding>
            <div class="leaf-node">
                {{node.name}}
            </div>
        </mat-tree-node>

        <mat-tree-node *matTreeNodeDef="let node; when: hasNestedChild" matTreeNodePadding matTreeNodeToggle>
            <button mat-icon-button  matTreeNodeToggle>
                <mat-icon>{{ tree2.isExpanded(node) ? "expand_more": "chevron_right"}}</mat-icon>
            </button>
                {{node.name}}
        </mat-tree-node>
    </mat-tree>
</div>